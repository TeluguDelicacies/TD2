<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Color Palette System - Demo</title>
    <link rel="stylesheet" href="color-system.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Demo-specific styles */
        body {
            font-family: system-ui, -apple-system, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .palette-controls {
            background: var(--bg-primary);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 16px var(--shadow-light);
            margin-bottom: 3rem;
            border: 2px solid var(--border-light);
        }

        .control-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .color-input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .color-input-wrapper {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 2px solid var(--border-light);
            transition: all 0.3s ease;
        }

        .color-input-wrapper:hover {
            border-color: var(--border-primary);
        }

        .color-preview {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid var(--border-medium);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .color-input {
            flex: 1;
            padding: 0.75rem;
            border: 2px solid var(--border-light);
            border-radius: 8px;
            font-family: monospace;
            font-size: 1rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .color-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: var(--focus-shadow);
        }

        .demo-section {
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--bg-primary);
            border-radius: 16px;
            box-shadow: 0 4px 16px var(--shadow-light);
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .component-showcase {
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-light);
        }

        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            border: 2px solid transparent;
        }

        .form-example {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .status-examples {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }

        .status {
            padding: 1rem;
            border-radius: 8px;
            margin: 0.5rem 0;
        }

        .accessibility-info {
            background: var(--bg-tertiary);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
            border-left: 4px solid var(--color-primary);
        }

        .contrast-check {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .contrast-item {
            padding: 1rem;
            text-align: center;
            border-radius: 8px;
            border: 2px solid var(--border-light);
        }

        .contrast-pass {
            background: color-mix(in srgb, var(--color-success) 10%, transparent 90%);
            border-color: var(--color-success);
        }

        .contrast-fail {
            background: color-mix(in srgb, var(--color-error) 10%, transparent 90%);
            border-color: var(--color-error);
        }

        .preset-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .preset-btn {
            padding: 0.5rem 1rem;
            border: 2px solid var(--border-medium);
            background: var(--bg-primary);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }

        .preset-btn:hover {
            border-color: var(--color-primary);
            background: var(--bg-secondary);
        }

        .section-title {
            color: var(--color-primary);
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .live-preview {
            position: sticky;
            top: 2rem;
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 16px var(--shadow-light);
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <!-- Header -->
        <header class="nav-primary">
            <div style="max-width: 1200px; margin: 0 auto; padding: 0 2rem;">
                <nav style="display: flex; align-items: center; justify-content: space-between;">
                    <h1 style="color: var(--text-on-primary); margin: 0;">Dynamic Color Palette System</h1>
                    <div style="display: flex; gap: 1rem;">
                        <a href="#" class="nav-item">Home</a>
                        <a href="#" class="nav-item active">Demo</a>
                        <a href="#" class="nav-item">Documentation</a>
                    </div>
                </nav>
            </div>
        </header>

        <!-- Palette Controls -->
        <section class="palette-controls">
            <h2 class="section-title">
                <i class="fas fa-palette"></i>
                Color Palette Generator
            </h2>
            <p>Choose three primary colors to generate a complete, accessible color system for your website.</p>
            
            <div class="control-group">
                <div class="color-input-group">
                    <label><strong>Primary Color</strong> (Main brand color)</label>
                    <div class="color-input-wrapper">
                        <div class="color-preview" id="primary-preview" style="background-color: #228B22;"></div>
                        <input type="text" id="primary-color" class="color-input" value="#228B22" placeholder="#228B22">
                        <input type="color" id="primary-picker" value="#228B22" style="width: 40px; height: 40px; border: none; border-radius: 6px; cursor: pointer;">
                    </div>
                </div>

                <div class="color-input-group">
                    <label><strong>Secondary Color</strong> (Accent/highlight color)</label>
                    <div class="color-input-wrapper">
                        <div class="color-preview" id="secondary-preview" style="background-color: #FFD700;"></div>
                        <input type="text" id="secondary-color" class="color-input" value="#FFD700" placeholder="#FFD700">
                        <input type="color" id="secondary-picker" value="#FFD700" style="width: 40px; height: 40px; border: none; border-radius: 6px; cursor: pointer;">
                    </div>
                </div>

                <div class="color-input-group">
                    <label><strong>Accent Color</strong> (Supporting/warning color)</label>
                    <div class="color-input-wrapper">
                        <div class="color-preview" id="accent-preview" style="background-color: #FF6B35;"></div>
                        <input type="text" id="accent-color" class="color-input" value="#FF6B35" placeholder="#FF6B35">
                        <input type="color" id="accent-picker" value="#FF6B35" style="width: 40px; height: 40px; border: none; border-radius: 6px; cursor: pointer;">
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button id="apply-palette" class="btn btn-primary">
                    <i class="fas fa-magic"></i>
                    Apply Palette
                </button>
                <button id="reset-palette" class="btn btn-secondary">
                    <i class="fas fa-undo"></i>
                    Reset to Default
                </button>
            </div>

            <div class="preset-buttons">
                <strong>Quick Presets:</strong>
                <button class="preset-btn" data-preset="ocean">#2E86AB #A23B72 #F18F01</button>
                <button class="preset-btn" data-preset="forest">#228B22 #FFA500 #FF6347</button>
                <button class="preset-btn" data-preset="sunset">#FF6B35 #F7931E #FFD23F</button>
                <button class="preset-btn" data-preset="purple">#6A4C93 #C44536 #FFCA3A</button>
                <button class="preset-btn" data-preset="teal">#17A2B8 #FFC107 #DC3545</button>
            </div>
        </section>

        <!-- Component Showcase -->
        <section class="demo-section">
            <h2 class="section-title">
                <i class="fas fa-cubes"></i>
                Component Showcase
            </h2>
            <p>See how your color palette applies to common UI components with automatic accessibility compliance.</p>

            <div class="demo-grid">
                <!-- Buttons -->
                <div class="component-showcase">
                    <h3>Buttons & Actions</h3>
                    <div class="button-group">
                        <button class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Primary Action
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-edit"></i>
                            Secondary Action
                        </button>
                        <button class="btn btn-primary" disabled>
                            <i class="fas fa-spinner fa-spin"></i>
                            Loading...
                        </button>
                    </div>
                </div>

                <!-- Forms -->
                <div class="component-showcase">
                    <h3>Form Elements</h3>
                    <form class="form-example">
                        <div class="form-row">
                            <input type="text" class="form-input" placeholder="Your name" required>
                            <input type="email" class="form-input" placeholder="Email address" required>
                        </div>
                        <select class="form-input">
                            <option>Choose an option</option>
                            <option>Option 1</option>
                            <option>Option 2</option>
                        </select>
                        <textarea class="form-input" placeholder="Your message..." rows="3"></textarea>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                            Send Message
                        </button>
                    </form>
                </div>

                <!-- Cards -->
                <div class="component-showcase">
                    <h3>Cards & Content</h3>
                    <div class="card">
                        <div class="card-header">
                            <h4 style="margin: 0;">Featured Card</h4>
                        </div>
                        <p>This card demonstrates how your color palette creates visual hierarchy and maintains readability across different UI elements.</p>
                        <div class="button-group">
                            <a href="#" class="btn btn-primary">Learn More</a>
                            <a href="#" class="btn btn-secondary">Share</a>
                        </div>
                    </div>
                </div>

                <!-- Status Messages -->
                <div class="component-showcase">
                    <h3>Status & Feedback</h3>
                    <div class="status-examples">
                        <div class="status status-success">
                            <i class="fas fa-check-circle"></i>
                            Success: Your changes have been saved successfully.
                        </div>
                        <div class="status status-warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            Warning: Please review your input before continuing.
                        </div>
                        <div class="status status-error">
                            <i class="fas fa-times-circle"></i>
                            Error: Something went wrong. Please try again.
                        </div>
                        <div class="status status-info">
                            <i class="fas fa-info-circle"></i>
                            Info: New features are now available in your dashboard.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Accessibility Information -->
        <section class="demo-section">
            <h2 class="section-title">
                <i class="fas fa-universal-access"></i>
                Accessibility Compliance
            </h2>
            <p>Your color palette is automatically checked for WCAG 2.1 AA compliance to ensure accessibility for all users.</p>
            
            <div class="accessibility-info">
                <h3>Contrast Ratio Analysis</h3>
                <p>All color combinations are tested to meet accessibility standards:</p>
                <div class="contrast-check" id="contrast-results">
                    <!-- Contrast check results will be populated by JavaScript -->
                </div>
            </div>
        </section>
    </div>

    <!-- JavaScript -->
    <script src="color-palette-generator.js"></script>
    <script>
        // Demo-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize color inputs
            const primaryInput = document.getElementById('primary-color');
            const secondaryInput = document.getElementById('secondary-color');
            const accentInput = document.getElementById('accent-color');
            const primaryPicker = document.getElementById('primary-picker');
            const secondaryPicker = document.getElementById('secondary-picker');
            const accentPicker = document.getElementById('accent-picker');
            const applyButton = document.getElementById('apply-palette');
            const resetButton = document.getElementById('reset-palette');

            // Sync color inputs with color pickers
            function syncColorInputs() {
                primaryPicker.value = primaryInput.value;
                secondaryPicker.value = secondaryInput.value;
                accentPicker.value = accentInput.value;
                
                document.getElementById('primary-preview').style.backgroundColor = primaryInput.value;
                document.getElementById('secondary-preview').style.backgroundColor = secondaryInput.value;
                document.getElementById('accent-preview').style.backgroundColor = accentInput.value;
            }

            // Event listeners for color inputs
            primaryInput.addEventListener('input', syncColorInputs);
            secondaryInput.addEventListener('input', syncColorInputs);
            accentInput.addEventListener('input', syncColorInputs);

            primaryPicker.addEventListener('input', function() {
                primaryInput.value = this.value;
                syncColorInputs();
            });

            secondaryPicker.addEventListener('input', function() {
                secondaryInput.value = this.value;
                syncColorInputs();
            });

            accentPicker.addEventListener('input', function() {
                accentInput.value = this.value;
                syncColorInputs();
            });

            // Apply palette
            applyButton.addEventListener('click', function() {
                const palette = updateWebsitePalette(
                    primaryInput.value,
                    secondaryInput.value,
                    accentInput.value
                );
                
                if (palette) {
                    updateContrastResults(palette);
                    showSuccessMessage('Palette applied successfully!');
                }
            });

            // Reset palette
            resetButton.addEventListener('click', function() {
                primaryInput.value = '#228B22';
                secondaryInput.value = '#FFD700';
                accentInput.value = '#FF6B35';
                syncColorInputs();
                
                const palette = updateWebsitePalette('#228B22', '#FFD700', '#FF6B35');
                if (palette) {
                    updateContrastResults(palette);
                    showSuccessMessage('Palette reset to default!');
                }
            });

            // Preset buttons
            document.querySelectorAll('.preset-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const colors = this.textContent.split(' ');
                    if (colors.length >= 3) {
                        primaryInput.value = colors[0];
                        secondaryInput.value = colors[1];
                        accentInput.value = colors[2];
                        syncColorInputs();
                        
                        const palette = updateWebsitePalette(colors[0], colors[1], colors[2]);
                        if (palette) {
                            updateContrastResults(palette);
                            showSuccessMessage(`Applied ${this.dataset.preset} preset!`);
                        }
                    }
                });
            });

            // Update contrast results
            function updateContrastResults(palette) {
                const contrastResults = document.getElementById('contrast-results');
                const combinations = [
                    { bg: palette.primary.base, fg: palette.accessibility.textOnPrimary, label: 'Primary Background' },
                    { bg: palette.secondary.base, fg: palette.accessibility.textOnSecondary, label: 'Secondary Background' },
                    { bg: palette.accent.base, fg: palette.accessibility.textOnAccent, label: 'Accent Background' },
                    { bg: palette.neutral.white, fg: palette.accessibility.textOnLight, label: 'Light Background' },
                    { bg: palette.neutral.dark, fg: palette.accessibility.textOnDark, label: 'Dark Background' }
                ];

                contrastResults.innerHTML = '';
                combinations.forEach(combo => {
                    const result = paletteGenerator.checkAccessibility(combo.fg, combo.bg);
                    const div = document.createElement('div');
                    div.className = `contrast-item ${result.passes ? 'contrast-pass' : 'contrast-fail'}`;
                    div.style.backgroundColor = combo.bg;
                    div.style.color = combo.fg;
                    div.innerHTML = `
                        <strong>${combo.label}</strong><br>
                        Ratio: ${result.ratio.toFixed(2)}<br>
                        ${result.passes ? '✓ WCAG AA' : '✗ Fails WCAG AA'}
                    `;
                    contrastResults.appendChild(div);
                });
            }

            // Show success message
            function showSuccessMessage(message) {
                // Create temporary success message
                const successDiv = document.createElement('div');
                successDiv.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: var(--color-success);
                    color: white;
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    box-shadow: 0 4px 16px var(--shadow-medium);
                    z-index: 1000;
                    animation: slideIn 0.3s ease;
                `;
                successDiv.innerHTML = `<i class="fas fa-check"></i> ${message}`;
                document.body.appendChild(successDiv);

                setTimeout(() => {
                    successDiv.remove();
                }, 3000);
            }

            // Initialize with default palette
            syncColorInputs();
            const initialPalette = updateWebsitePalette('#228B22', '#FFD700', '#FF6B35');
            if (initialPalette) {
                updateContrastResults(initialPalette);
            }

            // Add CSS animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>